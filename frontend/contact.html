<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gordon Security Company</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;200;400;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
    <section class="sub-header">
        <nav>
            <a href="index.html" class="logo-container">
                <img src="images/logo.png" alt="Gordon Security Logo" class="logo">
                <span class="logo-text">Gordon Security<br>Company</span>
            </a>
            <div class="nav-links" id="navLinks">
                <i class="fa fa-times" id="menuClose" onClick="hiddenMenu()"></i>
                <ul>
                    <li><a href="index.html">HOME</a></li>
                    <li><a href="about.html">ABOUT US</a></li>
                    <li><a href="service.html">SERVICES</a></li>
                    <li><a href="blog.html">BLOG</a></li>
                    <li><a href="contact.html">CONTACT</a></li>
                    <li id="auth-link"><a href="login.html">LOGIN</a></li>

                </ul>
            </div>
            <i class="fa fa-bars " id="menuOpen" onClick="showMenu()"></i>
        </nav>

        <h1>Contact Us</h1>
    </section>
    <!-----contact us page------>

    <section class="location">
        <h2>Our Location</h2>
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3988.812268835395!2d36.789088373829095!3d-1.
        2867088987010609!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x182f10afb600df91%3A0xd4a9f8bfcf2fa234!2sMaalim%20Juma%
        20Rd%2C%20Nairobi!5e0!3m2!1sen!2ske!4v1751527689014!5m2!1sen!2ske" width="600" height="450" style="border:0;"
            allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>

    </section>

    <section class="contact-us">
        <div class="row">
            <div class="contact-col">
                <div>
                    <i class="fa fa-home"></i>
                    <span>
                        <h5>maalim juma Road</h5>
                        <p>Nairobi Kenya</p>
                    </span>
                </div>
                <div>
                    <a href="tel:+254715293884" title="Call Us"><i class="fa fa-phone"></i></a>
                    <span>
                        <h5>+254 715293884</h5>
                        <p>Monday to Saturday, 10AM to 6PM</p>
                    </span>
                </div>
                <div>
                    <a href="mailto:info@gordonsecurity.com" title="Send us an Email"><i class="fa fa-envelope"></i></a>
                    <span>
                        <h5>info@gordonsecurity.com</h5>
                        <p>Email Us Your Query</p>
                    </span>
                </div>
                <div>
                    <a href="https://wa.me/254715293884" target="_blank" title="Chat on WhatsApp"><i
                            class="fa fa-whatsapp"></i></a>
                    <span>
                        <h5>+254 715293884</h5>
                        <p>Contact us on whatsapp</p>
                    </span>
                </div>

            </div>
            <div class="contact-col">
                <form id="contactForm">
                    <input type="text" name="name" placeholder="Enter your name" required>
                    <input type="email" name="email" placeholder="Enter email address" required>
                    <input type="text" name="subject" placeholder="Enter your subject" required>
                    <textarea rows="8" name="message" placeholder="Message" required></textarea>
                    <button type="submit" class="hero-btn red-btn">Send Message</button>

                </form>
                <script>
                    document.getElementById("contactForm").addEventListener("submit", async (e) => {
                        e.preventDefault();

                        const form = e.target;
                        const button = form.querySelector("button");
                        const originalButtonText = button.textContent;

                        // Disable button and show loading text
                        button.disabled = true;
                        button.textContent = "Sending...";

                        const data = {
                            name: form.name.value,
                            email: form.email.value,
                            subject: form.subject.value,
                            message: form.message.value
                        };

                        try {
                            const res = await fetch("https://skr-project-backend.onrender.com/api/messages", {
                                method: "POST",
                                headers: {
                                    "Content-Type": "application/json"
                                },
                                body: JSON.stringify(data)
                            });

                            const result = await res.json();
                            if (res.ok) {
                                alert("Message sent successfully!");
                                form.reset(); // Clear form
                                // Optional: Redirect user after submission
                                // window.location.href = "/thank-you.html";
                            } else {
                                alert(result.message || "Failed to send message.");
                            }
                        } catch (err) {
                            console.error("Submission error:", err);
                            alert("An error occurred while sending your message.");
                        } finally {
                            // Re-enable the button and restore original text
                            button.disabled = false;
                            button.textContent = originalButtonText;
                        }
                    });
                </script>

            </div>

        </div>

    </section>




    <!----- Footer ----->
    <section class="footer">
        <h4>About Us</h4>
        <p> We believe in maintaining our heritage by employing high calibre staff and a management <br>that is dynamic
            to changes in the environment and security industry, thus providing value for money to our clients. </p>
        <div class="icons">
            <a href="https://facebook.com" target="_blank" title="Join Us on Facebook"><i
                    class="fa fa-facebook"></i></a>
            <a href="https://twitter.com" target="_blank" title="Join Us on Twitter"><i class="fa fa-twitter"></i></a>
            <a href="https://linkedin.com" target="_blank" title="Join our Linkedin account"><i
                    class="fa fa-linkedin"></i></a>
            <a href="https://wa.me/254715293884" target="_blank" title="Chat on WhatsApp"><i
                    class="fa fa-whatsapp"></i></a>
            <a href="mailto:info@gordonsecurity.com" title="Send us an Email"><i class="fa fa-envelope"></i></a>
        </div>



    </section>
    <!----- javascript for toggle menu ----->

    <script>
        const navLinks = document.getElementById("navLinks");
        const menuOpen = document.getElementById("menuOpen");
        const menuClose = document.getElementById("menuClose");

        function showMenu() {
            navLinks.style.right = "0";
            menuOpen.style.display = "none";
            menuClose.style.display = "block";
        }

        function hiddenMenu() {
            navLinks.style.right = "-200px";
            menuOpen.style.display = "block";
            menuClose.style.display = "none";
        }
    </script>
    <script>
        // âœ… Define logout in global scope
        function logout() {
            localStorage.removeItem("userToken");
            localStorage.removeItem("username");
            alert("You have been logged out.");
            window.location.href = "contact.html";
        }

        document.addEventListener("DOMContentLoaded", () => {
            const token = localStorage.getItem("userToken");
            const username = localStorage.getItem("username");
            const authLink = document.getElementById("auth-link");

            if (authLink) {
                if (token) {
                    authLink.innerHTML = `<a href="#" onclick="logout()">LOGOUT</a>`;
                } else {
                    authLink.innerHTML = `<a href="login.html">LOGIN</a>`;
                }
            }

        });
    </script>

</body>

</html>